<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>velyB í´ë¦¬ë‹‰</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Noto Sans KR', sans-serif;
      margin: 0;
      background: #fff;
      color: #303030;
      overflow-x: auto;
      white-space: nowrap;
    }
    .top-bar { display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; }
    .date-time { font-size: 13px; white-space: pre-line; }
    .logo img { height: 40px; }
    .icons { display: flex; gap: 14px; }
    .icons img { width: 22px; height: 22px; cursor: pointer; }
    header { background: #FFAEC9; padding: 12px; }
    .menu-row { display: flex; flex-wrap: wrap; justify-content: center; gap: 8px; margin-bottom: 6px; }
    .menu-button { background: white; color: #303030; border: none; border-radius: 20px; padding: 6px 12px; font-size: 13px; cursor: pointer; }
    .container { padding: 20px; display: flex; gap: 20px; }
    .left, .right { flex: 1; border: 2px solid #FFAEC9; border-radius: 16px; padding: 20px; max-height: 400px; overflow-y: auto; }
    .right { border-width: 6px; }
    .heart-btn { cursor: pointer; font-size: 18px; color: #ccc; }
    .heart-btn.liked { color: #FFAEC9; }
    .row { display: flex; align-items: center; gap: 10px; padding: 8px 0; justify-content: space-between; }
    .row .procedure-name { text-align: left; flex: 1; }
    .row .price { text-align: right; width: 80px; }
    .row input[type="number"] { width: 50px; text-align: right; }
    .subtotal, .final-total { text-align: right; font-weight: bold; margin-top: 10px; }
    .final-total { margin-top: 20px; }
  </style>
</head>
<body>
  <div class="top-bar">
    <div class="date-time" id="datetime">-</div>
    <div class="logo"><img src="logo.png" alt="velyB logo" /></div>
    <div class="icons">
      <img src="list.png" alt="list" />
      <img src="love.png" alt="love" />
      <img src="today.png" alt="today" />
      <a href="https://github.com/teletobin" target="_blank"><img src="settings.png" alt="settings" /></a>
    </div>
  </div>

  <header>
    <div class="menu-row">
      <button class="menu-button">99ì´ë²¤íŠ¸</button>
      <button class="menu-button">ê½ƒë´„í˜œíƒ</button>
      <button class="menu-button">ì²«ì‹œìˆ  ì´ë²¤íŠ¸</button>
      <button class="menu-button">ì—¬ì„±ì œëª¨</button>
      <button class="menu-button">ë‚¨ì„±ì œëª¨</button>
      <button class="menu-button">ë³´í†¡ìŠ¤</button>
      <button class="menu-button">í•„ëŸ¬</button>
      <button class="menu-button">ë‹¤ì´ì–´íŠ¸</button>
    </div>
    <div class="menu-row">
      <button class="menu-button">ë ˆì´ì €</button>
      <button class="menu-button">í”¼ë¶€íŠ¸ëŸ¬ë¸”</button>
      <button class="menu-button">ë¦¬í”„íŒ…</button>
      <button class="menu-button">ì‹¤ë¦¬í”„íŒ…</button>
      <button class="menu-button">ë¶€ìŠ¤í„°ì‹œìˆ </button>
      <button class="menu-button">í”¼ë¶€ê´€ë¦¬</button>
      <button class="menu-button">ìˆ˜ì•¡ì£¼ì‚¬</button>
      <button class="menu-button">ê¸°íƒ€</button>
    </div>
  </header>

  <div class="container">
    <!-- ì™¼ìª½: 99ì´ë²¤íŠ¸ -->
    <div class="left">
      <h3>99ì´ë²¤íŠ¸</h3>

      <!-- ëª¨ë“  ì‹œìˆ  í•­ëª©ì„ í¬í•¨ -->
      <!-- ì•„ë˜ì— ëª¨ë“  ì‹œìˆ  í•­ëª© ê¸°ì¬ -->
      <div class="row">
        <span class="heart-btn" onclick="this.classList.toggle('liked')">&#9825;</span>
        <input type="checkbox" onchange="addToCart(this, '99E) ì£¼ë¦„ë³´í†¡ìŠ¤(ë©”ë””)í•œì •ê°€', 990)" />
        <span class="procedure-name">99E) ì£¼ë¦„ë³´í†¡ìŠ¤(ë©”ë””)í•œì •ê°€</span>
        <span class="price">990ì›</span>
        <input type="number" value="1" min="1" />
      </div>

      <div class="row">
        <span class="heart-btn" onclick="this.classList.toggle('liked')">&#9825;</span>
        <input type="checkbox" onchange="addToCart(this, '99E) ì•„íì£¼ì‚¬(í˜ì´ìŠ¤ ì»¨íˆ¬ì–´ë§) 3cc í•œì •ê°€', 990)" />
        <span class="procedure-name">99E) ì•„íì£¼ì‚¬(í˜ì´ìŠ¤ ì»¨íˆ¬ì–´ë§) 3cc í•œì •ê°€</span>
        <span class="price">990ì›</span>
        <input type="number" value="1" min="1" />
      </div>

      <div class="row">
        <span class="heart-btn" onclick="this.classList.toggle('liked')">&#9825;</span>
        <input type="checkbox" onchange="addToCart(this, '99E) ì—¼ì¦ì£¼ì‚¬ ê°œë‹¹', 990)" />
        <span class="procedure-name">99E) ì—¼ì¦ì£¼ì‚¬ ê°œë‹¹</span>
        <span class="price">990ì›</span>
        <input type="number" value="1" min="1" />
      </div>

      <!-- ì—¬ê¸°ì— ì¶”ê°€ ì‹œìˆ  í•­ëª© ê¸°ì¬ -->
      <div class="row">
        <span class="heart-btn" onclick="this.classList.toggle('liked')">&#9825;</span>
        <input type="checkbox" onchange="addToCart(this, '99E) ì¨ë§ˆì§€ FLX 300ìƒ·', 990000)" />
        <span class="procedure-name">99E) ì¨ë§ˆì§€ FLX 300ìƒ·</span>
        <span class="price">990,000ì›</span>
        <input type="number" value="1" min="1" />
      </div>
    </div>

    <!-- ì˜¤ë¥¸ìª½: ì‹œìˆ ëª©ë¡ -->
    <div class="right">
      <h3>ğŸ“ ì‹œìˆ ëª©ë¡</h3>

      <!-- ì„ íƒëœ í•­ëª© ëª©ë¡ -->
      <div id="cart-items"></div>

      <!-- ì´ ê²°ì œê¸ˆì•¡ -->
      <div class="final-total" id="final-total"></div>
    </div>
  </div>

  <script>
    function addToCart(checkbox, name, price) {
      const cart = document.querySelector('#cart-items');
      const finalTotal = document.querySelector('#final-total');
      let totalAmount = 0;

      if (checkbox.checked) {
        const itemQuantity = checkbox.closest('.row').querySelector('input[type="number"]').value;
        const totalPrice = price * itemQuantity;
        const vat = Math.round(totalPrice * 0.1); // ë¶€ê°€ì„¸ ê³„ì‚°
        const itemTotal = totalPrice + vat;

        const item = document.createElement('div');
        item.className = 'row';
        item.innerHTML = `
          <span>${name}</span>
          <span class="price">${price.toLocaleString()}ì›</span>
          <span class="quantity">${itemQuantity}</span>
          <span class="subtotal">${totalPrice.toLocaleString()}ì›</span>
          <span class="vat">${vat.toLocaleString()}ì›</span>
          <span class="item-total">${itemTotal.toLocaleString()}ì›</span>
        `;
        cart.appendChild(item);
      } else {
        const items = cart.querySelectorAll('.row');
        items.forEach(item => {
          if (item.querySelector('span').textContent === name) {
            item.remove();
          }
        });
      }

      const items = cart.querySelectorAll('.row');
      items.forEach(item => {
        const itemTotalPrice = item.querySelector('.item-total').textContent.replace('ì›', '').replace(',', '');
        totalAmount += parseInt(itemTotalPrice, 10);
